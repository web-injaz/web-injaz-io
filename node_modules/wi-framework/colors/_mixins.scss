@import 'mixers';
@import 'maps';

@mixin mapItemCheck($bg, $map, $item, $prefix) {
    @if $map != false and map-has-key($map, $item) {
        --#{$prefix}#{$item}: #{map-get($map, $item)};
    } @else {
        --#{$prefix}#{$item}: #{map-get(colorsMixer($bg), $item)};
    }
}

@mixin create-background($name, $bg, $colors: false, $varPrefix: '') {
    @if type-of($name) != 'string' {
        @error 'Type of #{$name} should be a "string" yours is: #{type-of($name)}';
    }
    @if type-of($varPrefix) != 'string' {
        @error 'Type of #{$varPrefix} should be a "string" yours is: #{type-of($varPrefix)}';
    }
    @if type-of($bg) != 'color' {
        @error 'Type of #{$bg} should be a "color" yours is: #{type-of($bg)}';
    }
    @if type-of($colors) != 'map' and $colors != false {
        @error 'You should pass a map of colors insted of #{$colors} or a "false" if you want to use the default.';
    }
    .bg-#{$name} {
        --background: #{$bg};
        @include mapItemCheck($bg, $colors, 'text', $prefix: $varPrefix);
        @include mapItemCheck($bg, $colors, 'headers', $prefix: $varPrefix);
        @include mapItemCheck($bg, $colors, 'links', $prefix: $varPrefix);
        @include mapItemCheck($bg, $colors, 'bw-01', $prefix: $varPrefix);
        @if $enable-inverse {
            @include mapItemCheck($bg, $colors, 'light-inverse', $prefix: $varPrefix);
            @include mapItemCheck($bg, $colors, 'text-light-inverse', $prefix: $varPrefix);
            @include mapItemCheck($bg, $colors, 'dark-inverse', $prefix: $varPrefix);
            @include mapItemCheck($bg, $colors, 'text-dark-inverse', $prefix: $varPrefix);
        }
        @if $enable-darken {
            @include mapItemCheck($bg, $colors, 'darken-5', $prefix: $varPrefix);
            @include mapItemCheck($bg, $colors, 'darken-10', $prefix: $varPrefix);
            @include mapItemCheck($bg, $colors, 'darken-15', $prefix: $varPrefix);
            @include mapItemCheck($bg, $colors, 'darken-20', $prefix: $varPrefix);
            @include mapItemCheck($bg, $colors, 'darken-25', $prefix: $varPrefix);
            @include mapItemCheck($bg, $colors, 'darken-30', $prefix: $varPrefix);
            @include mapItemCheck($bg, $colors, 'darken-35', $prefix: $varPrefix);
        }
        @if $enable-lighten {
            @include mapItemCheck($bg, $colors, 'lighten-5', $prefix: $varPrefix);
            @include mapItemCheck($bg, $colors, 'lighten-10', $prefix: $varPrefix);
            @include mapItemCheck($bg, $colors, 'lighten-15', $prefix: $varPrefix);
            @include mapItemCheck($bg, $colors, 'lighten-20', $prefix: $varPrefix);
            @include mapItemCheck($bg, $colors, 'lighten-25', $prefix: $varPrefix);
            @include mapItemCheck($bg, $colors, 'lighten-30', $prefix: $varPrefix);
            @include mapItemCheck($bg, $colors, 'lighten-35', $prefix: $varPrefix);
        }
        @if $enable-contrast {
            @include mapItemCheck($bg, $colors, 'contrast-10', $prefix: $varPrefix);
            @include mapItemCheck($bg, $colors, 'contrast-20', $prefix: $varPrefix);
            @include mapItemCheck($bg, $colors, 'contrast-30', $prefix: $varPrefix);
            @include mapItemCheck($bg, $colors, 'contrast-40', $prefix: $varPrefix);
            @include mapItemCheck($bg, $colors, 'contrast-50', $prefix: $varPrefix);
            @include mapItemCheck($bg, $colors, 'contrast-60', $prefix: $varPrefix);
            @include mapItemCheck($bg, $colors, 'contrast-70', $prefix: $varPrefix);
            @include mapItemCheck($bg, $colors, 'contrast-80', $prefix: $varPrefix);
            @include mapItemCheck($bg, $colors, 'contrast-90', $prefix: $varPrefix);
        }
        @if $enable-trans {
            @include mapItemCheck($bg, $colors, 'trans-10', $prefix: $varPrefix);
            @include mapItemCheck($bg, $colors, 'trans-20', $prefix: $varPrefix);
            @include mapItemCheck($bg, $colors, 'trans-30', $prefix: $varPrefix);
            @include mapItemCheck($bg, $colors, 'trans-40', $prefix: $varPrefix);
            @include mapItemCheck($bg, $colors, 'trans-50', $prefix: $varPrefix);
            @include mapItemCheck($bg, $colors, 'trans-60', $prefix: $varPrefix);
            @include mapItemCheck($bg, $colors, 'trans-70', $prefix: $varPrefix);
            @include mapItemCheck($bg, $colors, 'trans-80', $prefix: $varPrefix);
            @include mapItemCheck($bg, $colors, 'trans-90', $prefix: $varPrefix);
        }
        @if $enable-gray {
            @include mapItemCheck($bg, $colors, 'gray-10', $prefix: $varPrefix);
            @include mapItemCheck($bg, $colors, 'gray-20', $prefix: $varPrefix);
            @include mapItemCheck($bg, $colors, 'gray-30', $prefix: $varPrefix);
            @include mapItemCheck($bg, $colors, 'gray-40', $prefix: $varPrefix);
            @include mapItemCheck($bg, $colors, 'gray-50', $prefix: $varPrefix);
            @include mapItemCheck($bg, $colors, 'gray-60', $prefix: $varPrefix);
            @include mapItemCheck($bg, $colors, 'gray-70', $prefix: $varPrefix);
            @include mapItemCheck($bg, $colors, 'gray-80', $prefix: $varPrefix);
            @include mapItemCheck($bg, $colors, 'gray-90', $prefix: $varPrefix);
        }
        @content;
    }
}

@mixin create-root-background($bg, $colors: false, $varPrefix: '', $admin: false) {
    @if type-of($varPrefix) != 'string' {
        @error 'Type of #{$varPrefix} should be a "string" yours is: #{type-of($varPrefix)}';
    }
    @if type-of($bg) != 'color' {
        @error 'Type of #{$bg} should be a "color" yours is: #{type-of($bg)}';
    }
    @if type-of($colors) != 'map' and $colors != false {
        @error 'You should pass a map of colors insted of #{$colors} or a "false" if you want to use the default.';
    }
    @if type-of($admin) != 'bool' {
        @error 'Type of #{$admin} should be a "string" yours is: #{type-of($admin)}';
    }
    @if $enable-default-root and not $admin {
      @warn 'It\'s not optimal to generate the ":root" over an existing one, please set "$enable-default-root: false" before the "import" of the framework if you want to generate the ":root" manulay';
    }
    @at-root {
        :root {
            --background: #{$bg};
            @include mapItemCheck($bg, $colors, 'text', $prefix: $varPrefix);
            @include mapItemCheck($bg, $colors, 'headers', $prefix: $varPrefix);
            @include mapItemCheck($bg, $colors, 'links', $prefix: $varPrefix);
            @include mapItemCheck($bg, $colors, 'bw-01', $prefix: $varPrefix);
            @if $enable-inverse {
                @include mapItemCheck($bg, $colors, 'light-inverse', $prefix: $varPrefix);
                @include mapItemCheck($bg, $colors, 'text-light-inverse', $prefix: $varPrefix);
                @include mapItemCheck($bg, $colors, 'dark-inverse', $prefix: $varPrefix);
                @include mapItemCheck($bg, $colors, 'text-dark-inverse', $prefix: $varPrefix);
            }
            @if $enable-darken {
                @include mapItemCheck($bg, $colors, 'darken-5', $prefix: $varPrefix);
                @include mapItemCheck($bg, $colors, 'darken-10', $prefix: $varPrefix);
                @include mapItemCheck($bg, $colors, 'darken-15', $prefix: $varPrefix);
                @include mapItemCheck($bg, $colors, 'darken-20', $prefix: $varPrefix);
                @include mapItemCheck($bg, $colors, 'darken-25', $prefix: $varPrefix);
                @include mapItemCheck($bg, $colors, 'darken-30', $prefix: $varPrefix);
                @include mapItemCheck($bg, $colors, 'darken-35', $prefix: $varPrefix);
            }
            @if $enable-lighten {
                @include mapItemCheck($bg, $colors, 'lighten-5', $prefix: $varPrefix);
                @include mapItemCheck($bg, $colors, 'lighten-10', $prefix: $varPrefix);
                @include mapItemCheck($bg, $colors, 'lighten-15', $prefix: $varPrefix);
                @include mapItemCheck($bg, $colors, 'lighten-20', $prefix: $varPrefix);
                @include mapItemCheck($bg, $colors, 'lighten-25', $prefix: $varPrefix);
                @include mapItemCheck($bg, $colors, 'lighten-30', $prefix: $varPrefix);
                @include mapItemCheck($bg, $colors, 'lighten-35', $prefix: $varPrefix);
            }
            @if $enable-contrast {
                @include mapItemCheck($bg, $colors, 'contrast-10', $prefix: $varPrefix);
                @include mapItemCheck($bg, $colors, 'contrast-20', $prefix: $varPrefix);
                @include mapItemCheck($bg, $colors, 'contrast-30', $prefix: $varPrefix);
                @include mapItemCheck($bg, $colors, 'contrast-40', $prefix: $varPrefix);
                @include mapItemCheck($bg, $colors, 'contrast-50', $prefix: $varPrefix);
                @include mapItemCheck($bg, $colors, 'contrast-60', $prefix: $varPrefix);
                @include mapItemCheck($bg, $colors, 'contrast-70', $prefix: $varPrefix);
                @include mapItemCheck($bg, $colors, 'contrast-80', $prefix: $varPrefix);
                @include mapItemCheck($bg, $colors, 'contrast-90', $prefix: $varPrefix);
            }
            @if $enable-trans {
                @include mapItemCheck($bg, $colors, 'trans-10', $prefix: $varPrefix);
                @include mapItemCheck($bg, $colors, 'trans-20', $prefix: $varPrefix);
                @include mapItemCheck($bg, $colors, 'trans-30', $prefix: $varPrefix);
                @include mapItemCheck($bg, $colors, 'trans-40', $prefix: $varPrefix);
                @include mapItemCheck($bg, $colors, 'trans-50', $prefix: $varPrefix);
                @include mapItemCheck($bg, $colors, 'trans-60', $prefix: $varPrefix);
                @include mapItemCheck($bg, $colors, 'trans-70', $prefix: $varPrefix);
                @include mapItemCheck($bg, $colors, 'trans-80', $prefix: $varPrefix);
                @include mapItemCheck($bg, $colors, 'trans-90', $prefix: $varPrefix);
            }
            @if $enable-gray {
                @include mapItemCheck($bg, $colors, 'gray-10', $prefix: $varPrefix);
                @include mapItemCheck($bg, $colors, 'gray-20', $prefix: $varPrefix);
                @include mapItemCheck($bg, $colors, 'gray-30', $prefix: $varPrefix);
                @include mapItemCheck($bg, $colors, 'gray-40', $prefix: $varPrefix);
                @include mapItemCheck($bg, $colors, 'gray-50', $prefix: $varPrefix);
                @include mapItemCheck($bg, $colors, 'gray-60', $prefix: $varPrefix);
                @include mapItemCheck($bg, $colors, 'gray-70', $prefix: $varPrefix);
                @include mapItemCheck($bg, $colors, 'gray-80', $prefix: $varPrefix);
                @include mapItemCheck($bg, $colors, 'gray-90', $prefix: $varPrefix);
            }
            @content;
        }
    }
}
